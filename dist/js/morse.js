(()=>{var e,t={1286:()=>{window.parent.postMessage({type:"changeHeader",text:document.title},"*")},1908:()=>{"use strict";window.addEventListener("message",(function(e){"outterColorSchemeChange"===e.data.type&&("dark"===e.data.colorScheme?document.documentElement.classList.add("dark"):"light"===e.data.colorScheme&&document.documentElement.classList.remove("dark"))}))},3608:(e,t,r)=>{"use strict";r(9442),r(3398),r(3952),r(5315),r(327),r(3186),r(840),r(9705),r(9418),r(652),r(9728),r(1464),r(512),r(8221);var n,o=r(6337),i=r(1635),a=r(154),c=r(1146),u=r(782);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function d(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function f(e,t,r){return t=m(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(t,e),r=t,i=[{key:"render",value:function(){return this.renderListItem((0,o.qy)(n||(e=['\n      <md-item part="item">\n        <div slot="container">\n          '," ",'\n        </div>\n        <slot name="start" slot="start"></slot>\n        <slot name="end" slot="end"></slot>\n        ',"\n      </md-item>\n    "],t||(t=e.slice(0)),n=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))),this.renderRipple(),this.renderFocusRing(),this.renderBody()));var e,t}}],i&&l(r.prototype,i),a&&l(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,a}(c.n);v.styles=[u.R],v=(0,i.Cg)([(0,a.EM)("md-list-item")],v);r(1286),r(1908);function y(){return new Worker(r.p+"js/mp3Encoder.worker.worker.js")}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function w(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}const k=function(){return e=function e(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioNode=t,this.nextNode=r,this.context=t.context,this.options=o,this.worker=new y,this.worker.addEventListener("message",this.handleWorkerMessage.bind(this));var i=this.context.sampleRate,a=o.sampleRate||i,c=o.bitRate||128,u=o.numChannels||1;this.worker.postMessage({cmd:"init",data:{numChannels:u,inputSampleRate:i,outputSampleRate:a,bitRate:c}}),this.processor=this.context.createScriptProcessor(4096,u,u),this.processor.addEventListener("audioprocess",(function(e){if(n.isRecording){for(var t=[],r=0;r<u;r++)t.push(e.inputBuffer.getChannelData(r));n.worker.postMessage({cmd:"encode",data:t})}})),t.connect(this.processor),this.processor.connect(r),this.isRecording=!1,this.onComplete=o.onComplete},t=[{key:"handleWorkerMessage",value:function(e){if("complete"===e.data.cmd){var t,r=new Blob(e.data.data,{type:"audio/mp3"});null===(t=this.onComplete)||void 0===t||t.call(this,r)}}},{key:"startRecording",value:function(){this.isRecording=!0}},{key:"stopRecording",value:function(){this.isRecording=!1,this.worker.postMessage({cmd:"stop"})}},{key:"destruction",value:function(){this.audioNode&&this.processor&&this.audioNode.disconnect(this.processor),this.processor&&this.nextNode&&this.processor.disconnect(this.nextNode),this.processor&&(this.processor.addEventListener("audioprocess",null),this.processor.disconnect(),this.processor=null),this.worker&&(this.worker.addEventListener("message",null),this.worker.terminate(),this.worker=null),this.isRecording=!1,this.audioNode=null,this.nextNode=null,this.context=null,this.options=null,this.onComplete=null}}],t&&g(e.prototype,t),r&&g(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();function O(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E,S=document.getElementById("wpm-slider"),T=document.getElementById("wi-slider"),R=document.getElementById("ddr-slider"),P=document.getElementById("freq-slider"),C=document.getElementById("input"),x=document.getElementById("encode-button"),A=document.getElementById("download-button"),B=document.getElementById("stop-button"),N=new(window.AudioContext||window.webkitAudioContext),I=N.createOscillator(),L=N.createGain();function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=void 0;return function e(n){var o=n.shift();if(void 0!==o){var i=o.interval,a=o.duration;0===i?c():r=setTimeout(c,i)}else t&&t();function c(){L.gain.setValueAtTime(.2,N.currentTime),r=setTimeout(u,a)}function u(){r=void 0,L.gain.linearRampToValueAtTime(0,N.currentTime),e(n)}}(e),function(){clearTimeout(r),r=void 0,L.gain.linearRampToValueAtTime(0,N.currentTime)}}function _(e){var t,r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,c=1.2/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:20),u=[],s=!0,l=O(e.toArray());try{for(l.s();!(r=l.n()).done;){for(var d=r.value,f=Math.floor((o=2,(n=d)<=0||o<=0||1===o?NaN:Math.log(n)/Math.log(o)));f>=0;f--){var p=c*(t?i:1)*(s?0:1)*1e3,m=((d>>f&1)*(a-1)+1)*c*1e3;u.push({interval:p,duration:m}),s=!1,t=!1}t=!0}}catch(e){l.e(e)}finally{l.f()}return u}I.type="square",I.frequency.setValueAtTime(790,N.currentTime),I.connect(L),L.connect(N.destination),L.gain.setValueAtTime(0,N.currentTime),I.start(N.currentTime),String.prototype.toArray=function(){for(var e=[],t=0;t<this.length;){var r=this.codePointAt(t);t+=r>65535?2:1,e.push(r)}return e},x.addEventListener("click",(function(){E&&E(),I.frequency.setValueAtTime(+P.value,N.currentTime);var e=_(C.value,+S.value,+T.value,+R.value);E=M(e)})),A.addEventListener("click",(function(){E&&E(),I.frequency.setValueAtTime(+P.value,N.currentTime);var e=_(C.value,+S.value,+T.value,+R.value),t=new k(L,N.destination,{bitRate:128,onComplete:function(e){var t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="telegram_".concat(Date.now(),".mp3"),r.click()}});t.startRecording(),E=M(e,(function(){return t.stopRecording()}))})),B.addEventListener("click",(function(){E&&E()}))}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],c=!0,u=0;u<r.length;u++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(c=!1,i<a&&(a=i));if(c){e.splice(l--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=183,(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{var e={183:0,409:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[a,c,u]=r,s=0;if(a.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var l=u(n)}for(t&&t(r);s<a.length;s++)i=a[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[96,409],(()=>n(3608)));o=n.O(o)})();