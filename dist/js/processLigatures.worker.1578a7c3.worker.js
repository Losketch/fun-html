(()=>{let e=[],t=[];function s(e,t){if(0===t.length)return e;const s=[];let r=0;for(;r<e.length;){let n=!1;for(const i of t){let t=!0;for(let s=0;s<i.length;s++)if(e[r+s]!==i[s]){t=!1;break}if(t){s.push(i),r+=i.length,n=!0;break}}n||(s.push(e[r]),r++)}return s}self.addEventListener("message",r=>{const{type:n,data:i}=r.data;if("init"===n)e=i.ligatures,t=i.ligatureStrings;else if("processLigatures"===n){const t=s(i,e);self.postMessage(t)}else if("processLigaturesString"===n){const e=s(i,t).map(e=>Array.isArray(e)?e.join(""):e);self.postMessage(e)}})})();